!function(){"use strict";var t,e,n,a,r={511:function(t,e,n){n.a(t,(async function(t,e){try{n(745),n(113);var a=n(93),r=(n(879),n(357),n(227),t([a]));a=(r.then?(await r)():r)[0],e()}catch(t){e(t)}}))},879:function(){const t=document.querySelector(".article__wrapper-text"),e=new URLSearchParams(window.location.search),n=e.get("id");0!==e.size&&(async()=>{let e="";const a=await fetch(`https://gorest.co.in/public-api/posts/${n}`),r=await a.json(),c=r.data,i=await fetch(`https://gorest.co.in/public-api/users/${r.data.user_id}`),o=await i.json();e=`\n      <div class="article__wrapper-main">\n        <h2 class="article__title">${c.title}</h2>\n        <p class="article__text article__text_mb150">${c.body}</p>\n      </div>\n        <div class="article__naw-wrap">\n          <a class="article__back-link" href="/blog.html">К списку статей</a>\n          <p class="article__autor">\n            ${o.user_id?o.user_id:"Автор не загрузился"} \n          </p>\n    `,t&&(t.innerHTML=e)})()},93:function(t,e,n){n.a(t,(async function(t,e){try{const t=document.querySelector(".list"),n=(document.querySelector(".nav__list"),document.querySelector(".page__nav ")),a=async()=>{const t=new URLSearchParams(location.search).get("page"),e=await fetch(`https://gorest.co.in/public-api/posts?page=${null===t?1:t}`),n=await e.json();return{data:n.data,pagination:n.meta.pagination,ueserId:n.data.user_id}},r=async()=>{const e=await a();let n="";for(let a=0;a<e.data.length;a++)n+=`\n      <li class="list__item item">\n        <div class="item__image-wrapper">\n          <img class="item__image" src="https://loremflickr.com/400/400?${a+1}" alt="Картинка к посту">\n        </div>\n        <div class="item__desc-wrapper">\n          <h2 class="item__title">\n            <a ="item__link" href="article.html?id=${e.data[a].id}">\n              ${e.data[a].title}\n            </a>\n          </h2>\n          <p class="item__date"></p>\n          <div class="item__icons-wrapper">\n            <span class="item__icons-review"></span>\n            <span class="item__icons-comment"></span>\n          </div>\n        </div>\n      </li>\n    `,t.innerHTML=n},c=(t,e,n)=>{const a=document.createElement("li");a.className="pagination__item";const r=document.createElement("a");return r.className="pagination__link",r.textContent=e,r.href=t,n&&r.classList.add("pagination__link_active"),a.append(r),a},i=(t,e,n,a)=>{t.textContent="";const r=document.createElement("ul");r.className="pagination__list";const i=n-Math.floor(a/2)>1,o=n+Math.floor(a/2)>e;a>e&&(a=e);for(let t=0;t<a;t++){let s=t+1;i&&(s=o?e-a+t+1:n-Math.floor(a/2)+t);const l=new URL(location);l.searchParams.set("page",s);const d=c(l,s,n===s);r.append(d)}const s=document.createElement("a");s.classList.add("pagination__arrow","pagination__arrow_start"),s.href=i?"blog.html":"";const l=document.createElement("a");l.classList.add("pagination__arrow","pagination__arrow_end"),l.href=o?"":`blog.html?page=${e}`,t.append(s,r,l)},o=(t,e,n)=>{i(t,e,n,3)};if(a(),t&&r(),n){const t=await a();o(n,t.pagination.pages,t.pagination.page)}e()}catch(t){e(t)}}),1)},227:function(){const t=document.querySelector(".cart__list"),e=()=>{const t=document.querySelectorAll(".cart__item"),e=document.querySelector(".check__total-price"),n=document.querySelector(".check__point_amount"),a=document.querySelector(".check__description_price"),r=document.querySelector(".check__description_sale");let c=0,i=0,o=0;t.forEach((t=>{const e=t.querySelector("[data-counter]"),n=t.querySelector(".cart__price-current"),a=t.querySelector(".cart__price-not-sale"),r=parseInt(e.innerText)*parseInt(n.innerText),s=parseInt(e.innerText)*parseInt(a.innerText);c+=r,i+=s,o+=parseInt(e.innerText)})),e.innerHTML=`${c} ₽`,a.innerHTML=`${i} ₽`,r.innerHTML=i-c+" ₽",n.innerHTML=`Товары, ${o} шт.`},n=JSON.parse(localStorage.getItem("id_01"));if(n){const a=`\n    <li class="cart__item cart__item_1" data-id=${n.id}>\n    <label class="cart__label visually-hidden" for="cartGood-1">\n      Выбрать этот товар\n      </label>\n    <input \n      class="cart__input cart__input_item" \n      id="cartGood-1" \n      type="checkbox" \n      name="userGoods" \n      value="1">\n      <div class="cart__image-wrap">\n        <img \n          class="cart__image" \n          src="${n.imgSrc}" \n          alt="${n.title}">\n      </div>\n      <div class="cart__description-wrap">\n        <p class="cart__description-title">\n          ${n.title}\n          </p>\n        <p class="cart__description">Цвет: черный</p>\n        <p class="cart__description">Оперативная память: 16 ГБ</p>\n      </div>              \n    \n    <div class="cart__counter-wrap">\n      <button \n        class="cart__counter-btn cart__counter-btn_prev"\n        type="button" \n        data-action="minus">\n          −\n      </button>\n      <span class="cart__count" data-counter>1</span>\n      <button \n        class="cart__counter-btn cart__counter-btn_next"\n        type="button" \n        data-action="plus"\n        >\n          +\n      </button>\n    </div>\n    <div class="cart__price-wrap">\n      <p class="cart__price-current">${n.price}</p>\n      <p class="cart__price-not-sale">${n.firstPrice}</p>\n      <a class="cart__price-bank" href="">В кредит от 5600 ₽</a>\n    </div>\n    <button class="cart__del cart__del_display-none" type="button"></button>  \n    </li>\n  `;t?.insertAdjacentHTML("beforeend",a);const r=document.querySelector(".delivery__preview-wrap");if(r){const t=document.createElement("li");t.classList.add("delivery__preview"),t.setAttribute("data-id",`${n.id}`),t.style.backgroundImage=`url(${n.imgSrc})`,r.append(t)}"/cart.html"===window.location.pathname&&e()}window.addEventListener("click",(t=>{let n;if("plus"===t.target.dataset.action||"minus"===t.target.dataset.action){n=t.target.closest(".cart__counter-wrap").querySelector("[data-counter]")}"plus"===t.target.dataset.action&&(n.innerText=++n.innerText,e()),"minus"===t.target.dataset.action&&parseInt(n.innerText)>1&&(n.innerText=--n.innerText,e())}));const a=document.querySelector(".cart__input_all"),r=document.querySelectorAll(".cart__input_item");let c=!1;a?.addEventListener("click",(()=>{c=!c,c?r.forEach((t=>t.checked=!0)):r.forEach((t=>t.checked=!1))}));const i=document.querySelectorAll(".cart__del");i&&i.forEach((t=>{t.addEventListener("click",(()=>{r.forEach((t=>{if(!0===t.checked){const a=document.querySelector(".delivery__preview");a.dataset.id===`${n.id}`&&a.remove(),localStorage.removeItem(`id_${t.closest(".cart__item ").dataset.id}`),t.closest(".cart__item ").remove(),e()}}))}))}))},113:function(){const t=document.querySelector(".header__menu"),e=document.querySelector(".modal");t.addEventListener("click",(()=>{e.classList.toggle("modal_none"),t.classList.toggle("linked"),e.classList.contains("modal_none")?t.setAttribute("aria-expanded",!1):t.setAttribute("aria-expanded",!0)}))},357:function(){window.addEventListener("click",(t=>{if(t.target.hasAttribute("data-cart")){const e=t.target.closest(".page-hero__item"),n={id:e.dataset.id,imgSrc:e.querySelector(".page-hero__img").getAttribute("src"),title:e.querySelector(".page-hero__title").innerText,price:e.querySelector(".page-hero__price").innerText,firstPrice:e.querySelector(".page-hero__firstprice").innerText,description:e.querySelector(".page-hero__description").innerText};localStorage.setItem("id_01",JSON.stringify(n))}}))},745:function(){const t=document.querySelector(".timer"),e=e=>{const n=document.querySelector(".timer-day"),a=document.querySelector(".timer-hour"),r=document.querySelector(".timer-min"),c=document.querySelector(".timer-day-txt"),i=document.querySelector(".timer-hour-txt"),o=document.querySelector(".timer-min-txt"),s=document.querySelector(".hero__promo-time-end"),l=()=>{let t=new Date(e).getTime()-Date.now();t=((t,e=0)=>e+60*(new Date).getTimezoneOffset()*1e3+60*t*60*1e3)(3,t);const n=Math.floor(t/1e3/60/60/24);let a=Math.floor(t/1e3/60/60%24),r=Math.floor(t/1e3/60%60);const s=function(t,e){return 1===t||t>20&&t%10==1?e[0]:t>1&&t<5||t%10>1&&t%10<5?e[1]:e[2]};var l,d;return c.dataset.title=s(n,["день","дня","дней"]),i.dataset.title=s(a,["час","часа","часов"]),o.dataset.title=s(r,["минута","минуты","минут"]),(d=r)<10&&(d=`0${d}`),(l=a)<10&&(l=`0${l}`),{timeRemaining:t,days:n,minutes:r,hours:a}},d=()=>{const e=l();var u,_;u=e.days,_=e.hours,0===u&&_<24&&(t.style.backgroundColor="red",s.style.backgroundColor="red"),n.textContent=e.days,a.textContent=e.hours,r.textContent=e.minutes,c.lastChild.textContent=" "+c.dataset.title,i.lastChild.textContent=" "+i.dataset.title,o.lastChild.textContent=" "+o.dataset.title;const p=setTimeout(d,1e3);e.timeRemaining<=0&&(clearTimeout(p),t.innerHTML="",s.innerHTML="")};d()};document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("[data-deadline]")&&e(t.dataset.deadline)}))}},c={};function i(t){var e=c[t];if(void 0!==e)return e.exports;var n=c[t]={exports:{}};return r[t](n,n.exports,i),n.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=function(t){t&&t.d<1&&(t.d=1,t.forEach((function(t){t.r--})),t.forEach((function(t){t.r--?t.r++:t()})))},i.a=function(r,c,i){var o;i&&((o=[]).d=-1);var s,l,d,u=new Set,_=r.exports,p=new Promise((function(t,e){d=e,l=t}));p[e]=_,p[t]=function(t){o&&t(o),u.forEach(t),p.catch((function(){}))},r.exports=p,c((function(r){var c;s=function(r){return r.map((function(r){if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var c=[];c.d=0,r.then((function(t){i[e]=t,a(c)}),(function(t){i[n]=t,a(c)}));var i={};return i[t]=function(t){t(c)},i}}var o={};return o[t]=function(){},o[e]=r,o}))}(r);var i=function(){return s.map((function(t){if(t[n])throw t[n];return t[e]}))},l=new Promise((function(e){(c=function(){e(i)}).r=0;var n=function(t){t!==o&&!u.has(t)&&(u.add(t),t&&!t.d&&(c.r++,t.push(c)))};s.map((function(e){e[t](n)}))}));return c.r?l:i()}),(function(t){t?d(p[n]=t):l(_),a(o)})),o&&o.d<0&&(o.d=0)},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i(511)}();